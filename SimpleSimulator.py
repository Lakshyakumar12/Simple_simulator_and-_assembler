import sys

#f = open("kk.txt")

r = {"000": 0,
     "001": 0,
     "010": 0,
     "011": 0,
     "100": 0,
     "101": 0,
     "110": 0,
     "111": "0000000000000000"}
def rec(i, p):


    if i[:5] == '10000':
        r[i[13:16]] = r[i[7:10]] + r[i[10:13]]
        if r[i[13:16]] > ((2 ** 16) - 1):
            r["111"] = "0000000000001000"
        else:
            r["111"] = "0000000000000000"


        p += 1

    if i[:5] == '10001':
        r[i[13:16]] = r[i[7:10]] + r[i[10:13]]
        if r[i[13:16]] < 0:
            r["111"] = "0000000000001000"
            r[i[13:16]] = 0
        else:

            r["111"] = "0000000000000000"

        p += 1
    if i[:5] == '10110':
        r[i[13:16]] = r[i[7:10]] * r[i[10:13]]
        if r[i[13:16]] > ((2 ** 16) - 1):
            r["111"] = "0000000000001000"
        else:
            r["111"] = "0000000000000000"
        p+=1

    if i[:5] == '11011':
        r[i[13:16]]=r[i[7:10]]|r[i[10:13]]
        p += 1
        r["111"] = "0000000000000000"

    if i[:5] == '11100':  # exclusive and
        r[i[13:16]] = r[i[7:10]]&r[i[10:13]]
        p += 1
        r["111"] = "0000000000000000"

    if i[:5] == '11000':
        a = i[5:8]

        r[a] = r[a] >> int(i[8:16], 2)
        p += 1
        r["111"] = "0000000000000000"

    if i[:5] == '10010':
        r[i[5:8]] = int(i[8:16], 2)
        p += 1
        r["111"] = "0000000000000000"

    if i[:5] == '110001':
        a = i[5:8]
        r[a] = r[a] << int(i[8:16], 2)
        p += 1
        r["111"] = "0000000000000000"



    if i[:5] == '10011':
        r[i[13:16]] = r[i[10:13]]

        p += 1
        r["111"] = "0000000000000000"
    if i[:5] == '11110':
        a = i[10:13]
        b = i[13:16]

        if (r[a] == r[b]):
            r['111'] = "0000000000000001"
        if (r[a] > r[b]):
            r['111'] = "0000000000000010"
        if (r[a] < r[b]):
            r['111'] = "0000000000000100"
        p += 1
    if i[:5] == '10111':

        r["000"] = r[i[10:13]] / r[i[13:16]]

        p += 1
        r["111"] = "0000000000000000"

    if i[:5] == '11101':
        a = i[10:13]
        b = i[13:16]

        r[a] = ~r[b]

        p += 1
        r["111"] = "0000000000000000"


    if i[:5] == '10100':
        a = i[5:8]

        r[a] = int(l[int(i[8:16], 2)], 2)
        p += 1
        r['111'] = "0000000000000000"
    if i[:5] == '01111':

        if (r["111"][15] == "1"):
            p = int(i[8:16], 2)
        else:
            p += 1
        r["111"] = "0000000000000000"
    if i[:5] == '10101':
        a = i[5:8]

        b = int(i[8:16], 2)
        t=r[a]
        t = bin(int(t)).replace("0b", "")
        t = str(t)
        a = 16 - len(t)
        t = (a * "0") + t


        l[b] = t

        p += 1
        r['111'] = "0000000000000000"

    if i[:5] == '11111':
        p = int(i[8:16], 2)
        r["111"] = "0000000000000000"

    if i[:5] == '01100':

        if (r["111"][13] == "1"):
            p = (int(i[8:16], 2))
        else:
            p += 1
        r["111"] = "0000000000000000"
    if i[:5] == '01101':

        if (r["111"][14] == "1"):
            p = int(i[8:16], 2)
        else:
            p += 1
        r["111"] = "0000000000000000"


    if i[:5] == '01010':

        p += 1
        r["111"] = "0000000000000000"
        return True, p
    else:
        return False, p
pc = 0
l = []
for k in sys.stdin:
    k=k.replace("\n","")
    l.append(k)

if(len(l)<=256):
    while(len(l)!=256):
        l.append("0000000000000000")


flag = False

while (not flag):
    t=pc
    t=bin(int(t)).replace("0b","")
    t = str(t)
    a = 8 - len(t)
    t = (a * "0") + t
    print(t, end=" ")
    assem= l[pc]
    flag, pc = rec(assem, pc)
    for i in r:
        if (i == "111"):
            print(r[i], end=" ")
        else:
            t=r[i]
            t = bin(int(t)).replace("0b", "")
            t = str(t)
            a = 16 - len(t)
            t = (a * "0") + t
            print(t, end=" ")
    print("")
l = list(filter(None, l))
for i in l:
    print(i)
